%	Callback to be used with HASgui.%	Displays the coordinates and file value pointed to by the mouse.%%   Base workspace script.%   Needs Dx, Dy, Dz, xaxis, yaxis, zaxis,%          sm, sliceindex, fileID, sliceID to be defined in workspace.%%   Changes:%       1/26/11 - Since xaxis and yaxis are redefined to be centered %           pt-pt, this eliminated the Dx/2, Dy/2 and Dz/2 offsets.%           Also adjusted kk calculation to agree with new axes definition.%       12/22/12 - Added indices (ii,jj,kk) to display.%       5/19/15 - Added display of ARFI displacements (wdisp)%%	Copyright 2015 by D.A. Christensen%       May 19, 2015if gca==handles.axes1	posl=get(gca,'CurrentPoint');	pos=posl(1,1:2);       switch sliceID        case 1; xval=xaxis(sliceindex); yval=pos(2); zval=pos(1);            ii=round(pos(2)/Dy+0.5+sm(1)/2); jj=sliceindex;             kk=round(pos(1)/Dz);        case 2; yval=yaxis(sliceindex); xval=pos(2); zval=pos(1);            ii=sliceindex; jj=round(pos(2)/Dx+0.5+sm(2)/2);            kk=round(pos(1)/Dz);        case 3; zval=zaxis(sliceindex); xval=pos(1); yval=pos(2);            ii=round(pos(2)/Dy+0.5+sm(1)/2);            jj=round(pos(1)/Dx+0.5+sm(2)/2); kk=sliceindex;    end        xl=get(gca,'xlim');yl=get(gca,'ylim');    if pos(1)>xl(2) || pos(1)<xl(1) || pos(2)>yl(2) || pos(2)<yl(1);    dispstr=[];    else         switch fileID            case 1                dispstr=['X (',num2str(jj),') = ',num2str(xval,'%4.1f'),' mm,    ',...                    'Y (',num2str(ii),') = ',num2str(yval,'%4.1f'),' mm,    ',...                    'Z (',num2str(kk),') = ',num2str(zval,'%4.1f'),' mm,    Medium = ',num2str(Modl(ii,jj,kk))];            case 2                if ~exist('pout','var')                dispstr=[];                return; end                dispstr=['X (',num2str(jj),') = ',num2str(xval,'%4.1f'),' mm,    ',...                    'Y (',num2str(ii),') = ',num2str(yval,'%4.1f'),' mm,    ',...                    'Z (',num2str(kk),') = ',num2str(zval,'%4.1f'),' mm,    ',...                    'Pressure = ',num2str(abs(pout(ii,jj,kk)),'%3.2g'),' Pa'];            case 3                if ~exist('Q','var')                dispstr=[];                return; end                dispstr=['X (',num2str(jj),') = ',num2str(xval,'%4.1f'),' mm,    ',...                    'Y (',num2str(ii),') = ',num2str(yval,'%4.1f'),' mm,    ',...                    'Z (',num2str(kk),') = ',num2str(zval,'%4.1f'),' mm,    ',...                    'Q = ',num2str(Q(ii,jj,kk),'%3.2g'),' W/m3'];            case 4                if ~exist('wdisp','var')                dispstr=[];                return; end                dispstr=['X (',num2str(jj),') = ',num2str(xval,'%4.1f'),' mm,    ',...                    'Y (',num2str(ii),') = ',num2str(yval,'%4.1f'),' mm,    ',...                    'Z (',num2str(kk),') = ',num2str(zval,'%4.1f'),' mm,    ',...                    'wdisp = ',num2str(wdisp(ii,jj,kk),'%3.2g'),' µm'];         end	end	set(handles.edit14,'string',dispstr);	returnend